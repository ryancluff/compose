version: "3.7"
services:
#    traefik default label example
#    labels:
#      - "traefik.enable=true"
#      - "traefik.port=8443"
#      - "traefik.protocol=https"
#      - "traefik.frontend.rule=Host:unifi.${DOMAINNAME}"
#      - "traefik.frontend.headers.frameDeny=false"

  openvpn:
    image: rcluff/openvpn-client:latest
    container_name: openvpn-client
    networks:
      - test
    cap_add:
      - net_admin
    devices:
      - /dev/net/tun:/dev/net/tun
    environment:
      - USER=${PIA_USER}
      - PASS=${PIA_PASS}
    restart: unless-stopped


networks:
  frontend:
    external:
      name: "frontend"
  test:
    name: "test"
